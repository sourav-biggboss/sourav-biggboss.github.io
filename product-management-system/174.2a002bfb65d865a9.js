"use strict";(self.webpackChunkproduct_management_system=self.webpackChunkproduct_management_system||[]).push([[174],{2653:(G,f,i)=>{i.r(f),i.d(f,{UserModule:()=>M});var l=i(6895),p=i(433),e=i(8256),g=i(3827),d=i(529),u=i(8505),h=i(6945),Z=i(184);let v=(()=>{class n{constructor(t,o,a,s){this.http=t,this.configApi=o,this.loaderService=a,this.toastService=s}fetchUser(t,o=0,a=30,s){this.loaderService.loader.next(!0);let c=new d.LE;return c=c.append("offset",o),c=c.append("limit",a),s&&(c=c.append("filter",JSON.stringify(s))),this.http.get(this.configApi.apiUrl+"profile/index/"+(t??""),{params:c}).pipe((0,u.b)(Q=>{this.loaderService.loader.next(!1)},Q=>{this.loaderService.loader.next(!1)},()=>{this.loaderService.loader.next(!1)}))}addUser(t){return this.loaderService.loader.next(!0),this.http.post(this.configApi.apiUrl+"profile/create/",t).pipe((0,u.b)(o=>{this.loaderService.loader.next(!1),this.toastService.showSuccess("success"==o.status?"Added":"Failed Added")},o=>{this.loaderService.loader.next(!1),this.toastService.showSuccess("Failed Added")},()=>{this.loaderService.loader.next(!1)}))}updateUser(t,o){return(new d.WM).append("Content-Type","multipart/form-data"),this.http.put(this.configApi.apiUrl+"profile/update/"+o,t).pipe((0,u.b)(s=>{this.loaderService.loader.next(!1),this.toastService.showSuccess("success"==s.status?"Updated":"Failed Updated")},s=>{this.loaderService.loader.next(!1),this.toastService.showSuccess("Failed Updated")},()=>{this.loaderService.loader.next(!1)}))}deleteUser(t){return this.http.delete(this.configApi.apiUrl+"profile/delete/"+t).pipe((0,u.b)(o=>{this.loaderService.loader.next(!1),this.toastService.showSuccess("success"==o.status?"Updated":"Failed Updated")},o=>{this.loaderService.loader.next(!1),this.toastService.showSuccess("Failed Updated")},()=>{this.loaderService.loader.next(!1)}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(d.eN),e.LFG(h.P),e.LFG(Z.D),e.LFG(g.k))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var m=i(3599),x=i(7208),S=i(6851),_=i(9837);function b(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-popup-model",13),e.NdJ("onSubmitBack",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onToggleAdvanceSearch())})("onSubmitCallBack",function(){e.CHM(t);const a=e.oxw();return a.onSearch(),e.KtG(a.onToggleAdvanceSearch())}),e.TgZ(1,"form",14)(2,"div",15)(3,"div",16)(4,"label",17),e._uU(5,"From Date"),e.qZA(),e._UZ(6,"input",18),e.qZA(),e.TgZ(7,"div",16)(8,"label",19),e._uU(9,"To Date"),e.qZA(),e._UZ(10,"input",20),e.qZA()(),e._UZ(11,"br"),e.TgZ(12,"div",15)(13,"div",21)(14,"div",22)(15,"label",23),e._uU(16,"With "),e.qZA(),e._UZ(17,"input",24),e.TgZ(18,"label",25),e._uU(19," Trash "),e.qZA()()(),e.TgZ(20,"div",21)(21,"label",26),e._uU(22,"Serialize By"),e.qZA(),e.TgZ(23,"div",22),e._UZ(24,"input",27),e.TgZ(25,"label",28),e._uU(26," Latest "),e.qZA()(),e.TgZ(27,"div",22),e._UZ(28,"input",29),e.TgZ(29,"label",30),e._uU(30," Oldest "),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.Q6J("title","Filter"),e.xp6(1),e.Q6J("formGroup",t.filter)}}function T(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.roll)}}function C(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"N/A"),e.qZA())}function A(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.salary)}}function y(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"N/A"),e.qZA())}function w(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.address)}}function L(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"N/A"),e.qZA())}function F(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"th",34),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"span",35),e._UZ(5,"img",36),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e.YNc(13,T,2,1,"span",37),e.YNc(14,C,2,0,"span",37),e.qZA(),e.TgZ(15,"td"),e.YNc(16,A,2,1,"span",37),e.YNc(17,y,2,0,"span",37),e.qZA(),e.TgZ(18,"td"),e.YNc(19,w,2,1,"span",37),e.YNc(20,L,2,0,"span",37),e.qZA(),e.TgZ(21,"td")(22,"div",38)(23,"button",39),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.onFindView(s.id))}),e._UZ(24,"i",40),e._uU(25," View"),e.qZA(),e.TgZ(26,"button",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.onUpdateView(s.id))}),e._UZ(27,"i",42),e._uU(28," Update"),e.qZA(),e.TgZ(29,"button",43),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.onDelete(s.id))}),e._UZ(30,"i",44),e._uU(31," Delete"),e.qZA()()()()}if(2&n){const t=r.$implicit,o=r.index;let a;e.xp6(2),e.Oqu(o+1),e.xp6(3),e.Q6J("src",null!==(a=t.photo_path)&&void 0!==a?a:"https://coreui.io/demos/bootstrap/4.3/light-v3/assets/img/avatars/8.jpg",e.LSH)("alt",t.name),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.email," "),e.xp6(2),e.hij(" ",t.number," "),e.xp6(2),e.Q6J("ngIf",t.roll),e.xp6(1),e.Q6J("ngIf",!t.roll),e.xp6(2),e.Q6J("ngIf",t.salary),e.xp6(1),e.Q6J("ngIf",!t.salary),e.xp6(2),e.Q6J("ngIf",t.address),e.xp6(1),e.Q6J("ngIf",!t.address)}}function q(n,r){if(1&n&&(e.TgZ(0,"table",31)(1,"thead")(2,"tr")(3,"th",32),e._uU(4,"#"),e.qZA(),e.TgZ(5,"th",32),e._uU(6,"Photo"),e.qZA(),e.TgZ(7,"th",32),e._uU(8,"Name"),e.qZA(),e.TgZ(9,"th",32),e._uU(10,"Email"),e.qZA(),e.TgZ(11,"th",32),e._uU(12,"Number"),e.qZA(),e.TgZ(13,"th",32),e._uU(14,"Designation"),e.qZA(),e.TgZ(15,"th",32),e._uU(16,"Salary"),e.qZA(),e.TgZ(17,"th",32),e._uU(18,"Address"),e.qZA(),e.TgZ(19,"th",32),e._uU(20,"Action"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,F,32,12,"tr",33),e.ALo(23,"slice"),e.qZA()()),2&n){const t=e.oxw();e.xp6(22),e.Q6J("ngForOf",e.Dn7(23,1,t.users,(t.paginationPage-1)*t.pageSize,t.paginationPage*t.pageSize))}}function N(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",45),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onFetchData(a))})("pageChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.paginationPage=a)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("collectionSize",t.listCount)("maxSize",5)("rotate",!0)("pageSize",t.pageSize)("page",t.paginationPage)}}function J(n,r){1&n&&e._UZ(0,"app-please-wait")}let k=(()=>{class n{constructor(t,o,a,s,c){this.toastService=t,this.userService=o,this.router=a,this.configApiService=s,this.formBulider=c,this.users=[],this.FormErr=!1,this.FormErrMessage=void 0,this.listCount=0,this.paginationPage=1,this.pageSize=30,this.advanceSearch=!1,this.filter=this.formBulider.group({orderBy:["desc",[p.kI.required,p.kI.maxLength(5),p.kI.minLength(2)]],fromDate:[""],toDate:[""],withTrash:[null],search:[null]})}ngOnInit(){this.onFetchData(),this.getCountList()}onToggleAdvanceSearch(){this.advanceSearch=!this.advanceSearch}getCountList(){this.configApiService.commonApiCount("users").subscribe(t=>{this.listCount=t.count})}onSearch(){this.users=[],this.onFetchData(),this.getCountList()}onFetchData(t=1){this.userService.fetchUser(void 0,this.pageSize*(t-1),this.pageSize,this.filter.value).subscribe(s=>{this.FormErr=!1,this.users=this.users.concat(s)},s=>{this.FormErrMessage=s.error,this.FormErr=!0})}onDelete(t){this.userService.deleteUser(t).subscribe()}onUpdateView(t){this.router.navigate(["/panel/user/user-add-update/edit",t])}onFindView(t){this.router.navigate(["/panel/user/user-view",t])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.k),e.Y36(v),e.Y36(m.F0),e.Y36(h.P),e.Y36(p.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-list"]],decls:18,vars:5,consts:[[1,"align-items-center","d-flex","justify-content-between"],[1,"align-items-center","d-flex","form-inline","justify-content-center","m-0","ng-pristine","ng-untouched","ng-valid",3,"formGroup","submit"],[1,"form-group","mx-sm-3"],["id","table-filtering-search","type","text","placeholder","Search..","formControlName","search","formcontrol","filter",1,"form-control"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],["type","submit",1,"btn","btn-primary","btn-left"],[1,"fa","fa-search"],["type","button",1,"btn","btn-primary","btn-sm","btn-left",3,"click"],[1,"fa","fa-arrow-circle-down"],[3,"title","onSubmitBack","onSubmitCallBack",4,"ngIf"],["class","table table-striped",4,"ngIf","ngIfElse"],["class","align-items-center d-flex justify-content-center mx-auto pagination pagination-sm mt-3",3,"collectionSize","maxSize","rotate","pageSize","page","pageChange",4,"ngIf"],["pleaseWait",""],[3,"title","onSubmitBack","onSubmitCallBack"],[3,"formGroup"],[1,"row"],[1,"form-group","col-lg-6"],["for","form_date"],["type","date","formControlName","fromDate","id","inputdate4","placeholder","Form Date",1,"form-control"],["for","to_date"],["type","date","formControlName","toDate","id","inputdate5","placeholder","To Date",1,"form-control"],[1,"form-group","col-6"],[1,"form-check"],["for","To_date"],["formControlName","withTrash","value","true","type","checkbox","id","with_trash",1,"form-check-input"],["for","with_trash",1,"form-check-label"],["for","orderBy"],["type","radio","formControlName","orderBy","name","orderBy","value","asc","id","orderBy1",1,"form-check-input"],["for","orderBy1",1,"form-check-label"],["type","radio","formControlName","orderBy","name","orderBy","value","desc","id","orderBy2",1,"form-check-input"],["for","orderBy2",1,"form-check-label"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"avatar","avatar-md"],["srcset","",1,"img","avatar-img",3,"src","alt"],[4,"ngIf"],["role","group","aria-label","Action",1,"btn-group"],[1,"btn","btn-dark","btn-sm","text-white",3,"click"],[1,"fa","fa-eye"],[1,"btn","btn-primary","btn-sm","text-white",3,"click"],[1,"fa","fa-edit"],[1,"mr-2","btn","btn-danger","btn-sm","text-white",3,"click"],[1,"fa","fa-trash-o"],[1,"align-items-center","d-flex","justify-content-center","mx-auto","pagination","pagination-sm","mt-3",3,"collectionSize","maxSize","rotate","pageSize","page","pageChange"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2,"Users List"),e.qZA(),e.TgZ(3,"form",1),e.NdJ("submit",function(){return o.onSearch()}),e.TgZ(4,"div",2),e._UZ(5,"input",3),e.qZA(),e.TgZ(6,"div",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9," Search"),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return o.onToggleAdvanceSearch()}),e._UZ(11,"i",8),e.qZA()()()(),e.YNc(12,b,31,2,"app-popup-model",9),e._UZ(13,"hr"),e.YNc(14,q,24,5,"table",10),e.YNc(15,N,1,5,"ngb-pagination",11),e.YNc(16,J,1,0,"ng-template",null,12,e.W1O)),2&t){const a=e.MAs(17);e.xp6(3),e.Q6J("formGroup",o.filter),e.xp6(9),e.Q6J("ngIf",o.advanceSearch),e.xp6(2),e.Q6J("ngIf",o.users.length>0)("ngIfElse",a),e.xp6(1),e.Q6J("ngIf",o.users.length>0)}},dependencies:[x.N,S.q,l.sg,l.O5,_.N9,p._Y,p.Fj,p.Wl,p._,p.JJ,p.JL,p.sg,p.u,l.OU]}),n})(),U=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-add-update"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"user-add-update works!"),e.qZA())}}),n})();var I=i(8345);const B=function(){return["Panel","User"]};let z=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user"]],decls:2,vars:3,consts:[[3,"moduleName","urlPaths"]],template:function(t,o){1&t&&(e.TgZ(0,"app-module-layout",0),e._UZ(1,"router-outlet"),e.qZA()),2&t&&e.Q6J("moduleName","Users")("urlPaths",e.DdM(2,B))},dependencies:[I.P,m.lC]}),n})(),D=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-view"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"user-view works!"),e.qZA())}}),n})();var Y=i(4466);let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Y.m,l.ez,_.IJ,p.UX,p.u5,m.Bz.forChild([{path:"",component:z,children:[{path:"user-add-update/:screen",component:U},{path:"user-add-update/:screen/:id",component:U},{path:"user-view/:id",component:D},{path:"user-list",component:k},{path:"",redirectTo:"add",pathMatch:"full"}]}])]}),n})()}}]);