"use strict";(self.webpackChunkproduct_management_system=self.webpackChunkproduct_management_system||[]).push([[132],{2132:(P,_,s)=>{s.r(_),s.d(_,{DepartmentModule:()=>j});var d=s(6895),c=s(3599),r=s(433),t=s(8256),u=s(5735),g=s(3827);function b(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1,"Add"),t.qZA())}function T(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1,"Update"),t.qZA())}function x(n,a){if(1&n&&(t.TgZ(0,"h6",3),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.FormErrMessage.message)}}function C(n,a){1&n&&(t.TgZ(0,"h6",3),t._uU(1,"Please Fill Valid Details"),t.qZA())}function v(n,a){1&n&&(t.TgZ(0,"h6",3),t._uU(1,"Submit Failed"),t.qZA())}function U(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"form",4),t.NdJ("submit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmitDetails())}),t.TgZ(1,"div",5)(2,"label",6),t._uU(3,"Department Name "),t.TgZ(4,"small",3),t._uU(5,"*"),t.qZA()(),t._UZ(6,"input",7),t.qZA(),t.TgZ(7,"div",5)(8,"label",8),t._uU(9,"Description"),t.qZA(),t._UZ(10,"input",9),t.qZA(),t.TgZ(11,"div",5)(12,"button",10),t._uU(13,"Save"),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.departmentForm),t.xp6(12),t.Q6J("disabled",e.departmentForm.invalid&&(e.departmentForm.dirty||e.departmentForm.touched))}}let f=(()=>{class n{constructor(e,o,i,p,m){this.form=e,this.departmentService=o,this.toastService=i,this.route=p,this.router=m,this.componentScreenType=l.add,this.FormErr=!1,this.FormErrMessage=void 0,this.departmentForm=this.form.group({name:["",[r.kI.required,r.kI.maxLength(225)]],description:["",[r.kI.maxLength(225)]]})}ngOnInit(){const e=this.route.snapshot.paramMap.get("screen"),o=this.route.snapshot.paramMap.get("id");"add"==e?this.componentScreenType=l.add:"edit"==e?(o?(this.departmentFormEditId=parseInt(o),this.departmentService.fetchDepartments(this.departmentFormEditId).subscribe(i=>{i[0]&&(console.log(i[0]),this.departmentForm.setValue({name:i[0].name,description:i[0].description}))})):this.router.navigateByUrl("page-not-found"),this.componentScreenType=l.edit):this.router.navigateByUrl("page-not-found")}onSubmitDetails(){this.departmentFormEditId?this.departmentService.updateDepartment(this.departmentForm.value,this.departmentFormEditId).subscribe():this.departmentForm.value?this.departmentService.addDepartment({name:this.departmentForm.value.name,description:this.departmentForm.value.description}).subscribe():this.toastService.showDanger("Unable to Update/Add")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(u.n),t.Y36(g.k),t.Y36(c.gz),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-update"]],decls:9,vars:6,consts:[[4,"ngIf"],["class","text-danger",4,"ngIf"],["class","row g-3",3,"formGroup","submit",4,"ngIf"],[1,"text-danger"],[1,"row","g-3",3,"formGroup","submit"],[1,"col-12"],["for","name1",1,"form-label"],["type","text","formControlName","name","maxlength","225","id","name1","placeholder","Full Name","required","",1,"form-control"],["for","desc",1,"form-label"],["type","text","formControlName","description","maxlength","225","id","description1","placeholder","Description..",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"h4"),t._uU(1,"Departments "),t.YNc(2,b,2,0,"span",0),t.YNc(3,T,2,0,"span",0),t.qZA(),t._UZ(4,"hr"),t.YNc(5,x,2,1,"h6",1),t.YNc(6,C,2,0,"h6",1),t.YNc(7,v,2,0,"h6",1),t.YNc(8,U,14,2,"form",2)),2&e&&(t.xp6(2),t.Q6J("ngIf",0==o.componentScreenType),t.xp6(1),t.Q6J("ngIf",1==o.componentScreenType),t.xp6(2),t.Q6J("ngIf",o.FormErrMessage&&o.FormErrMessage.message),t.xp6(1),t.Q6J("ngIf",o.departmentForm&&o.departmentForm.invalid&&(o.departmentForm.dirty||o.departmentForm.touched)),t.xp6(1),t.Q6J("ngIf",o.FormErr),t.xp6(1),t.Q6J("ngIf",o.departmentForm))},dependencies:[d.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u]}),n})();var l=(()=>{return(n=l||(l={}))[n.add=0]="add",n[n.edit=1]="edit",l;var n})(),A=s(6945),h=s(7208),F=s(6851),Z=s(9837);function S(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"app-popup-model",13),t.NdJ("onSubmitBack",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onToggleAdvanceSearch())})("onSubmitCallBack",function(){t.CHM(e);const i=t.oxw();return i.onSearch(),t.KtG(i.onToggleAdvanceSearch())}),t.TgZ(1,"form",14)(2,"div",15)(3,"div",16)(4,"label",17),t._uU(5,"From Date"),t.qZA(),t._UZ(6,"input",18),t.qZA(),t.TgZ(7,"div",16)(8,"label",19),t._uU(9,"To Date"),t.qZA(),t._UZ(10,"input",20),t.qZA()(),t._UZ(11,"br"),t.TgZ(12,"div",15)(13,"div",21)(14,"div",22)(15,"label",23),t._uU(16,"With "),t.qZA(),t._UZ(17,"input",24),t.TgZ(18,"label",25),t._uU(19," Trash "),t.qZA()()(),t.TgZ(20,"div",21)(21,"label",26),t._uU(22,"Serialize By"),t.qZA(),t.TgZ(23,"div",22),t._UZ(24,"input",27),t.TgZ(25,"label",28),t._uU(26," Latest "),t.qZA()(),t.TgZ(27,"div",22),t._UZ(28,"input",29),t.TgZ(29,"label",30),t._uU(30," Oldest "),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.Q6J("title","Filter"),t.xp6(1),t.Q6J("formGroup",e.filter)}}function y(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.description)}}function D(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1,"N/A"),t.qZA())}function q(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"th",34),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t.YNc(6,y,2,1,"span",35),t.YNc(7,D,2,0,"span",35),t.qZA(),t.TgZ(8,"td")(9,"div",36)(10,"button",37),t.NdJ("click",function(){const p=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onFindView(p.id))}),t._UZ(11,"i",38),t._uU(12," View"),t.qZA(),t.TgZ(13,"button",39),t.NdJ("click",function(){const p=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onUpdateView(p.id))}),t._UZ(14,"i",40),t._uU(15," Update"),t.qZA(),t.TgZ(16,"button",41),t.NdJ("click",function(){const p=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onDelete(p.id))}),t._UZ(17,"i",42),t._uU(18," Delete"),t.qZA()()()()}if(2&n){const e=a.$implicit,o=a.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngIf",e.description),t.xp6(1),t.Q6J("ngIf",!e.description)}}function I(n,a){if(1&n&&(t.TgZ(0,"table",31)(1,"thead")(2,"tr")(3,"th",32),t._uU(4,"#"),t.qZA(),t.TgZ(5,"th",32),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"th",32),t._uU(8,"Description"),t.qZA(),t.TgZ(9,"th",32),t._uU(10,"Action"),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,q,19,4,"tr",33),t.ALo(13,"slice"),t.qZA()()),2&n){const e=t.oxw();t.xp6(12),t.Q6J("ngForOf",t.Dn7(13,1,e.departments,(e.paginationPage-1)*e.pageSize,e.paginationPage*e.pageSize))}}function w(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ngb-pagination",43),t.NdJ("pageChange",function(i){t.CHM(e);const p=t.oxw();return t.KtG(p.onFetchData(i))})("pageChange",function(i){t.CHM(e);const p=t.oxw();return t.KtG(p.paginationPage=i)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("collectionSize",e.listCount)("maxSize",5)("rotate",!0)("pageSize",e.pageSize)("page",e.paginationPage)}}function N(n,a){1&n&&t._UZ(0,"app-please-wait")}let J=(()=>{class n{constructor(e,o,i,p,m){this.toastService=e,this.departmentService=o,this.router=i,this.configApiService=p,this.formBulider=m,this.departments=[],this.FormErr=!1,this.FormErrMessage=void 0,this.listCount=0,this.paginationPage=1,this.pageSize=30,this.filter=this.formBulider.group({orderBy:["desc",[r.kI.required,r.kI.maxLength(5),r.kI.minLength(2)]],fromDate:[""],toDate:[""],withTrash:[null],search:[null]}),this.advanceSearch=!1}ngOnInit(){this.onFetchData(),this.getCountList()}onToggleAdvanceSearch(){this.advanceSearch=!this.advanceSearch}getCountList(){this.configApiService.commonApiCount("departments").subscribe(e=>{this.listCount=e.count})}onSearch(){this.departments=[],this.onFetchData(),this.getCountList()}onFetchData(e=1){this.departmentService.fetchDepartments(void 0,this.pageSize*(e-1),this.pageSize,this.filter.value).subscribe(p=>{this.FormErr=!1,this.departments=this.departments.concat(p)},p=>{this.FormErrMessage=p.error,this.FormErr=!0})}onDelete(e){this.departmentService.deleteDepartment(e).subscribe()}onUpdateView(e){this.router.navigate(["/panel/department/add-update/edit",e])}onFindView(e){this.router.navigate(["/panel/department/view",e])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.k),t.Y36(u.n),t.Y36(c.F0),t.Y36(A.P),t.Y36(r.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list"]],decls:18,vars:5,consts:[[1,"align-items-center","d-flex","justify-content-between"],[1,"align-items-center","d-flex","form-inline","justify-content-center","m-0","ng-pristine","ng-untouched","ng-valid",3,"formGroup","submit"],[1,"form-group","mx-sm-3"],["id","table-filtering-search","type","text","placeholder","Search..","formControlName","search","formcontrol","filter",1,"form-control"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],["type","submit",1,"btn","btn-primary","btn-left"],[1,"fa","fa-search"],["type","button",1,"btn","btn-primary","btn-sm","btn-left",3,"click"],[1,"fa","fa-arrow-circle-down"],[3,"title","onSubmitBack","onSubmitCallBack",4,"ngIf"],["class","table table-striped",4,"ngIf","ngIfElse"],["class","align-items-center d-flex justify-content-center mx-auto pagination pagination-sm mt-3",3,"collectionSize","maxSize","rotate","pageSize","page","pageChange",4,"ngIf"],["pleaseWait",""],[3,"title","onSubmitBack","onSubmitCallBack"],[3,"formGroup"],[1,"row"],[1,"form-group","col-lg-6"],["for","form_date"],["type","date","formControlName","fromDate","id","inputdate4","placeholder","Form Date",1,"form-control"],["for","to_date"],["type","date","formControlName","toDate","id","inputdate5","placeholder","To Date",1,"form-control"],[1,"form-group","col-6"],[1,"form-check"],["for","To_date"],["formControlName","withTrash","value","true","type","checkbox","id","with_trash",1,"form-check-input"],["for","with_trash",1,"form-check-label"],["for","orderBy"],["type","radio","formControlName","orderBy","name","orderBy","value","asc","id","orderBy1",1,"form-check-input"],["for","orderBy1",1,"form-check-label"],["type","radio","formControlName","orderBy","name","orderBy","value","desc","id","orderBy2",1,"form-check-input"],["for","orderBy2",1,"form-check-label"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[4,"ngIf"],["role","group","aria-label","Action",1,"btn-group"],[1,"btn","btn-dark","btn-sm","text-white",3,"click"],[1,"fa","fa-eye"],[1,"btn","btn-primary","btn-sm","text-white",3,"click"],[1,"fa","fa-edit"],[1,"mr-2","btn","btn-danger","btn-sm","text-white",3,"click"],[1,"fa","fa-trash-o"],[1,"align-items-center","d-flex","justify-content-center","mx-auto","pagination","pagination-sm","mt-3",3,"collectionSize","maxSize","rotate","pageSize","page","pageChange"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Departments List"),t.qZA(),t.TgZ(3,"form",1),t.NdJ("submit",function(){return o.onSearch()}),t.TgZ(4,"div",2),t._UZ(5,"input",3),t.qZA(),t.TgZ(6,"div",4)(7,"button",5),t._UZ(8,"i",6),t._uU(9," Search"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return o.onToggleAdvanceSearch()}),t._UZ(11,"i",8),t.qZA()()()(),t.YNc(12,S,31,2,"app-popup-model",9),t._UZ(13,"hr"),t.YNc(14,I,14,5,"table",10),t.YNc(15,w,1,5,"ngb-pagination",11),t.YNc(16,N,1,0,"ng-template",null,12,t.W1O)),2&e){const i=t.MAs(17);t.xp6(3),t.Q6J("formGroup",o.filter),t.xp6(9),t.Q6J("ngIf",o.advanceSearch),t.xp6(2),t.Q6J("ngIf",o.departments.length>0)("ngIfElse",i),t.xp6(1),t.Q6J("ngIf",o.departments.length>0)}},dependencies:[h.N,F.q,d.sg,d.O5,Z.N9,r._Y,r.Fj,r.Wl,r._,r.JJ,r.JL,r.sg,r.u,d.OU]}),n})();var Y=s(8345);const L=function(){return["Panel","Department"]};let k=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-department"]],decls:2,vars:3,consts:[[3,"moduleName","urlPaths"]],template:function(e,o){1&e&&(t.TgZ(0,"app-module-layout",0),t._UZ(1,"router-outlet"),t.qZA()),2&e&&t.Q6J("moduleName","Department")("urlPaths",t.DdM(2,L))},dependencies:[Y.P,c.lC]}),n})();var B=s(4466);function E(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.departmentDetail.description)}}function M(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1,"N/A"),t.qZA())}function Q(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.departmentDetail.updated_at)}}function O(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1,"N/A"),t.qZA())}function z(n,a){if(1&n&&(t.TgZ(0,"div",2)(1,"div",3)(2,"h1",4),t._uU(3),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"div",5)(6,"table",6)(7,"tr")(8,"th"),t._uU(9,"ID:"),t.qZA(),t.TgZ(10,"td")(11,"span"),t._uU(12),t.qZA()()(),t.TgZ(13,"tr")(14,"th"),t._uU(15,"Description:"),t.qZA(),t.TgZ(16,"td"),t.YNc(17,E,2,1,"span",7),t.YNc(18,M,2,0,"span",7),t.qZA()(),t.TgZ(19,"tr")(20,"th"),t._uU(21,"Created At:"),t.qZA(),t.TgZ(22,"td")(23,"span"),t._uU(24),t.qZA()()(),t.TgZ(25,"tr")(26,"th"),t._uU(27,"Updated At:"),t.qZA(),t.TgZ(28,"td"),t.YNc(29,Q,2,1,"span",7),t.YNc(30,O,2,0,"span",7),t.qZA()()()()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.departmentDetail.name),t.xp6(9),t.Oqu(e.departmentDetail.id),t.xp6(5),t.Q6J("ngIf",e.departmentDetail.description),t.xp6(1),t.Q6J("ngIf",!e.departmentDetail.description),t.xp6(6),t.Oqu(e.departmentDetail.created_at),t.xp6(5),t.Q6J("ngIf",e.departmentDetail.updated_at),t.xp6(1),t.Q6J("ngIf",!e.departmentDetail.updated_at)}}function V(n,a){1&n&&t._UZ(0,"app-please-wait")}let G=(()=>{class n{constructor(e,o,i){this.departmentService=e,this.route=o,this.router=i}ngOnInit(){const e=this.route.snapshot.paramMap.get("id");e?(this.departmentFormEditId=parseInt(e),this.departmentService.fetchDepartments(this.departmentFormEditId).subscribe(o=>{o[0]&&(this.departmentDetail=o[0])})):this.router.navigateByUrl("page-not-found")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.n),t.Y36(c.gz),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view"]],decls:3,vars:2,consts:[["class","jumbotron jumbotron-fluid",4,"ngIf","ngIfElse"],["pleaseWait",""],[1,"jumbotron","jumbotron-fluid"],[1,"container"],[1,"display-6"],[1,"lead"],[1,"table","table-bordered"],[4,"ngIf"]],template:function(e,o){if(1&e&&(t.YNc(0,z,31,7,"div",0),t.YNc(1,V,1,0,"ng-template",null,1,t.W1O)),2&e){const i=t.MAs(2);t.Q6J("ngIf",o.departmentDetail)("ngIfElse",i)}},dependencies:[h.N,d.O5]}),n})(),j=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[B.m,d.ez,Z.IJ,r.UX,r.u5,c.Bz.forChild([{path:"",component:k,children:[{path:"add-update/:screen",component:f},{path:"add-update/:screen/:id",component:f},{path:"view/:id",component:G},{path:"list",component:J},{path:"",redirectTo:"add",pathMatch:"full"}]}])]}),n})()}}]);